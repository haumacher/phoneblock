<!DOCTYPE html>
<html>
<head th:replace="~{fragments/page :: head(title=#{page.setup.title})}"></head>

<body th:dir="${currentLang.direction}">
<div th:replace="~{fragments/page :: header(location=${currentPage})}"></div>

<section class="section">
	<div class="content">
		<h1 data-tx="t0001:3dfe1d89">Installazione come elenco telefonico</h1>

<p data-tx="t0002:10d70c8f">Per installare la blocklist, è necessario un router Internet <a th:href="@{/link/fritzbox}">"FRITZ!Box" di AVM</a> e un account PhoneBlock. Non deve essere necessariamente l'ultimo modello, ma dovreste controllare che su di esso sia installato l'ultimo FRITZ!OS (07.29 o più recente). In caso contrario, utilizzate le seguenti istruzioni di installazione per verificare se la vostra versione offre già le opzioni necessarie.</p>

<p data-tx="t0003:d62d702f">Nota: a causa delle limitazioni tecniche del Fritz!Box, l'intero elenco di blocco non può essere caricato in una rubrica telefonica. Pertanto, l'impostazione di una segreteria telefonica <a th:href="@{/anrufbeantworter}">Block</a> offre una migliore protezione contro le chiamate SPAM.</p>

<p data-tx="t0052:818cc317">Per impostare l'elenco di blocco, procedere come segue:</p>

<ol>
	<li><a data-tx="t0053:5cb36b90" href="#register">Registrarsi con PhoneBlock</a> <span class="tag is-success" data-tx="t0054:3378b39d" th:if="${userName}">Fatto</span></li>
	<li><a data-tx="t0055:d44f7d1" href="#fritzbox">Accedi a FRITZ!Box</a></li>
	<li><a data-tx="t0056:d6fa7b4e" href="#phonebook">Creare una nuova rubrica "Blocklist</a></li>
	<li><a data-tx="t0070:958ad5cf" href="#create-token">Generare il token CardDAV</a> <span class="tag is-success" data-tx="t0058:3378b39d" th:if="${cardDavToken}">Fatto</span></li>
	<li><a data-tx="t0071:9e1ea08e" href="#credentials">Inserite i dati di login nel Fritz!Box</a></li>
	<li><a data-tx="t0059:4f985acc" href="#verify">Controllare l'installazione</a></li>
	<li><a data-tx="t0060:91946e2c" href="#block">Attivare il blocco delle chiamate</a></li>
</ol>

<h2 data-tx="t0061:e8d5bb12" id="register">Passo 1: Registrazione con PhoneBlock</h2>

<p data-tx="t0062:fffc269" th:unless="${userName}">Innanzitutto, è necessario registrarsi o accedere a PhoneBlock per iniziare la configurazione.</p>

<div class="columns" th:unless="${userName}">
  <div class="column is-half is-offset-one-quarter">
	<a th:href="@{/login(location='/setup#register')}">
		<button class="button is-medium is-info is-fullwidth">
			<span class="icon">
				<i class="fa-solid fa-right-to-bracket"></i>
			</span>
			<span data-tx="t0063:1dc205">Accedi</span>
		</button>
	</a>
  </div>
</div>
<p data-tx="t0064:c41dd734" th:if="${userName}"><span class="tag is-success is-large"><i class="fa-solid fa-check"></i></span> Hai effettuato l'accesso come <code dir="ltr" th:text="${userName}"></code>, bene! Continuare con il passo successivo.</p>
		
		<h2 data-tx="t0065:8bf85697" id="fritzbox">Fase 2: Accesso a FRITZ!Box</h2>

		<p data-tx="t0012:2354f60">Affinché questo funzioni, dovete essere a casa nella vostra WLAN o il vostro computer deve essere collegato direttamente al FRITZ!Box via cavo. Il FRITZ!Box vi chiederà innanzitutto la password. Se non avete mai effettuato l'accesso prima d'ora, la password si trova sul fondo dell'apparecchio.</p>

		<div class="columns">
		  <div class="column is-half is-offset-one-quarter">
			<a href="http://fritz.box" target="_blank">
				<button class="button is-medium is-primary is-fullwidth" data-tx="t0013:d44f7d1">Accedi a FRITZ!Box</button>
			</a>
		  </div>
		</div>

		<h2 data-tx="t0066:502b2c97" id="phonebook">Fase 3: Creare una nuova rubrica "Blocklist</h2>
		
		<p data-tx="t0015:60de307b">Per bloccare le chiamate di spam, il FRITZ!Box ha bisogno di una propria rubrica in cui inserire tutti i numeri dei chiamanti indesiderati. Chiamate questa rubrica "Blocklist". Per questo</p>
		
		<ol>
			<li data-tx="t0016:ee677f2e">Per prima cosa, andate alla sezione "Telefonia",</li>
			<li data-tx="t0017:bf3c833">selezionare la voce di menu "Rubrica" e</li>
			<li data-tx="t0018:9545daeb">quindi fare clic sul link "Nuova rubrica".</li>
		</ol>
		
		<div class="columns">
		  <div class="column is-8 is-offset-2">
			<img alt="Elenco chiamate Fritz!Box" class="image" data-tx="t0037:b9f34dc9" th:src="@{/assets/img/setup/02-navigate-to-addressbooks.png}"/>
		  </div>
		</div>
		
		<h2 data-tx="t0072:356d507a" id="create-token">Passo 4: Creare il token CardDAV</h2>

		<p data-tx="t0073:5843bc02">Per la configurazione del Fritz!Box è necessario un token CardDAV speciale come password. Questo token viene utilizzato solo per la connessione tra il Fritz!Box e PhoneBlock e può essere revocato in qualsiasi momento nelle impostazioni.</p>

		<th:block th:if="${cardDavToken}">
			<p data-tx="t0074:f786328e"><span class="tag is-success is-large"><i class="fa-solid fa-check"></i></span> Avete creato un token! Continuare con il passo successivo.</p>
		</th:block>

		<th:block th:if="${userName} and ${!cardDavToken}">
			<p data-tx="t0075:ca529190">Ora create un token per il Fritz! È possibile aggiungere facoltativamente un commento, in modo da sapere in seguito per cosa viene utilizzato il token (ad esempio, "Fritz!Box living room").</p>

			<form method="post" th:action="@{/update-settings(action='createToken', location='/setup#create-token')}">
				<input name="token-type" type="hidden" value="CARDDAV"/>
				<div class="field has-addons">
					<div class="control is-expanded">
						<input class="input" data-tx="t0049:fe053998" name="token-label" placeholder="Facoltativo: Commento (ad es. 'Fritz!Box living room')" type="text"/>
					</div>
					<div class="control">
						<button class="button is-primary" data-tx="t0050:21ce66dd" type="submit"><i class="fa-solid fa-key"></i> Creare un token</button>
					</div>
				</div>
			</form>
		</th:block>

		<p data-tx="t0051:9fe447a" th:unless="${userName}">Per creare un token è necessario prima <a th:href="@{/login(location='/setup')}">fare il login</a>.</p>

		<h2 data-tx="t0076:35997409" id="credentials">Fase 5: Inserire i dati di accesso nel Fritz!Box</h2>

		<p data-tx="t0020:e4a227b8">Ora dovete inserire i dati di accesso nel FRITZ!</p>

		<ol>
			<li>
				<div data-tx="t0021:d5b1f48a">Inserire il nome <code dir="ltr">Blocklist</code> per la rubrica telefonica da utilizzare come blocklist. Questo nome sarà necessario per il passaggio successivo.</div>
			</li>

			<li data-tx="t0022:32f6ec7">Selezionare l'opzione <i>Usa la rubrica di un provider online</i>.</li>

			<li data-tx="t0023:d59c1b48">Selezionare il provider <i>CardDAV provider</i>.</li>

			<li>
				<div data-tx="t0079:c5926e14">Trasferire i dati di accesso (preferibilmente usando Cut&amp;Paste per evitare errori di battitura).</div>

				<ul>
					<li data-tx="t0080:d646341e"><span><i>Indirizzo internet del server CardDAV</i>:</span> <code dir="ltr" id="url2" th:text="|https://phoneblock.net${contextPath}/contacts/|"></code><a class="copyToClipboard" data-tx="t0042:3f7efe41" href="#" id="url2_" title="Copia negli appunti."><i class="fa-solid fa-copy"></i></a> (URL della rubrica PhoneBlock)</li>

					<li>
						<i data-tx="t0081:548c40c1">Nome utente</i>: 
						
						<th:block data-tx="t0082:baafe4ec" th:if="${userName}"><code dir="ltr" id="login2" th:text="${userName}"></code><a class="copyToClipboard" data-tx="t0043:3f7efe41" href="#" id="login2_" title="Copia negli appunti."><i class="fa-solid fa-copy"></i></a> (Il vostro nome utente PhoneBlock)</th:block>

						<th:block data-tx="t0083:c9c6fa56" th:unless="${userName}">È necessario effettuare il login (vedere <a href="#register">Fase 1</a>).</th:block>
					</li>

					<li>
						<span>
							<i data-tx="t0084:e99dee32">password</i>:
						</span>
						
						<th:block data-tx="t0085:1d7c0447" th:if="${cardDavToken}"><code dir="ltr" id="passwd2" th:text="${cardDavToken.token}"></code><a class="copyToClipboard" data-tx="t0044:3f7efe41" href="#" id="passwd2_" title="Copia negli appunti."><i class="fa-solid fa-copy"></i></a> (il token del passo 4)</th:block>
						
						<th:block data-tx="t0078:c657e130" th:unless="${cardDavToken}">È necessario creare prima un token (vedere <a href="#create-token">passo 4</a>).</th:block>
					</li>
				</ul>
			</li>
			
			<li>
				<p data-tx="t0086:95ea1a24"><b>Attenzione</b>: selezionare <b>nessun telefono</b> in "Assegnazione telefono"! Altrimenti troverete i chiamanti SPAM solo nei contatti del vostro telefono.</p>
				<p data-tx="t0087:79f2e6a0">A questo punto è possibile confermare la creazione della nuova rubrica.</p>
			</li>
		</ol>

		<div class="columns">
		  <div class="column is-8 is-offset-2">
			<img alt="Creare una nuova rubrica" class="image" data-tx="t0038:50de9d04" th:src="@{/assets/img/setup/03-add-address-book.png}"/>
		  </div>
		</div>

		<h2 data-tx="t0068:49ed5643" id="verify">Fase 6: Verifica dell'installazione</h2>

		<p data-tx="t0027:6bd9c881">Se tutto è andato bene, il FRITZ!Box ha caricato tutti i numeri della lista di blocco PhoneBlock. Ora dovreste avere una nuova rubrica "Blocklist" nella sezione "Telefonia / Rubrica". Se selezionate la scheda "Blocklist", potete vedere tutti i numeri degli attuali chiamanti spam.</p>

		<div class="columns">
		  <div class="column is-8 is-offset-2">
			<img alt="Mostra la lista di blocco recuperata" class="image" data-tx="t0039:3d7cbd9f" th:src="@{/assets/img/setup/04-check-blocklist.png}"/>
		  </div>
		</div>

		<h2 data-tx="t0069:16c40784" id="block">Passo 7: attivare il blocco delle chiamate</h2>
		
		<p data-tx="t0029:ffbbaf55">Nella sezione "Telefonia / Gestione chiamate" è ora possibile specificare la nuova rubrica "Blocklist" come intervallo di numeri di telefono da bloccare.</p>			
		
		<p data-tx="t0030:2d9a1437">Scorrere fino alla sottovoce "Intervalli di numeri di blocco" e fare clic sul pulsante "Aggiungi intervallo".</p>

		<div class="columns">
		  <div class="column is-8 is-offset-2">
			<img alt="Aggiungere un nuovo blocco delle chiamate" class="image" data-tx="t0040:e5649829" th:src="@{/assets/img/setup/05-add-blocklist.png}"/>
		  </div>
		</div>
		
		<p data-tx="t0031:56b8a409">Nella nuova schermata, selezionate l'opzione "Rubrica" nella selezione per "Area" e selezionate la rubrica appena creata "Blocklist" come "Rubrica" da bloccare.</p>

		<div class="columns">
		  <div class="column is-8 is-offset-2">
			<img alt="Bloccare i chiamanti con un numero di telefono nella blocklist" class="image" data-tx="t0041:a8687137" th:src="@{/assets/img/setup/06-create-blocklist.png}"/>
		  </div>
		</div>
		
		<p data-tx="t0032:8943dc0d">Perfetto! Avete effettuato la configurazione. Il vostro telefono dovrebbe ora squillare molto meno frequentemente a causa di un chiamante indesiderato. E se ciò dovesse accadere, potrete facilmente mettere a tacere il disturbatore per voi e per l'intera comunità di PhoneBlock:</p>
		
		<div class="columns">
		  <div class="column is-half is-offset-one-quarter">
			<a th:href="@{/block}"><button class="button is-medium is-primary is-fullwidth" data-tx="t0033:fcebb7bf">Bloccare il numero di telefono</button></a>
		  </div>
		</div>
	</div>
</section>

<div th:replace="~{fragments/page :: footer}"></div>
</body>
</html>